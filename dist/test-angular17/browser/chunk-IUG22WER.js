import{a as nt}from"./chunk-VJHWZOZM.js";import{e as tt,f as et,p as it}from"./chunk-SDMUVFW5.js";import{$ as Y,$a as l,Ba as y,Fa as p,Ga as b,Ja as X,La as w,M as O,Ma as G,N as z,R as A,Ra as h,W as R,Xa as q,Y as g,Ya as Z,Z as U,Za as $,_ as L,_a as s,a as k,ab as m,b as I,db as C,gb as a,hb as J,ib as T,m as K,nb as S,ob as Q,q as M,s as N,wa as V,x as F,y as j,ya as B}from"./chunk-CUD5NDY5.js";function pt(e,t,n,i){let o=window&&!!window.document&&window.document.documentElement,r=o&&t?window:n;if(e&&(r=e&&o&&typeof e=="string"?mt(e,n.nativeElement,i):e,!r))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return r}function mt(e,t,n){return(n?window.document:t).querySelector(e)}function D(e){return e&&!e.firstChange}function ut(){return typeof window<"u"}var gt={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},ht={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"},E=class{constructor(t=!0){this.vertical=t,this.propsMap=t?gt:ht}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}};function St(e,t,n){return!!(e&&t||!n&&t)}function vt({windowElement:e,axis:t}){return wt({axis:t,isWindow:yt(e)},e)}function wt(e,t){let n=e.isWindow||t&&!t.nativeElement?t:t.nativeElement;return I(k({},e),{container:n})}function yt(e){return["Window","global"].some(n=>Object.prototype.toString.call(e).includes(n))}function W(e,t){return e?t.document.documentElement:null}function ot(e,t){let n=xt(t);return t.isWindow?Ct(n,e,t):Tt(n,e,t)}function Ct(e,t,n){let{axis:i,container:o,isWindow:r}=n,{offsetHeightKey:c,clientHeightKey:d}=rt(i),u=e+st(W(r,o),i,r),f=lt(t.nativeElement,r,c,d),v=Mt(t.nativeElement,i,r)+f;return{height:e,scrolled:u,totalToScroll:v,isWindow:r}}function Tt(e,t,n){let{axis:i,container:o}=n,r=o[i.scrollTopKey()],c=o[i.scrollHeightKey()];return{height:e,scrolled:r,totalToScroll:c,isWindow:!1}}function rt(e){return{offsetHeightKey:e.offsetHeightKey(),clientHeightKey:e.clientHeightKey()}}function xt({container:e,isWindow:t,axis:n}){let{offsetHeightKey:i,clientHeightKey:o}=rt(n);return lt(e,t,i,o)}function lt(e,t,n,i){if(isNaN(e[n])){let o=W(t,e);return o?o[i]:0}else return e[n]}function Mt(e,t,n){let i=t.topKey();if(e.getBoundingClientRect)return e.getBoundingClientRect()[i]+st(e,t,n)}function st(e,t,n){let i=t.pageYOffsetKey(),o=t.scrollTopKey(),r=t.offsetTopKey();return isNaN(window.pageYOffset)?W(n,e)[o]:e.ownerDocument?e.ownerDocument.defaultView[i]:e[r]}function Ot(e,t={down:0,up:0},n){let i,o;if(e.totalToScroll<=0)return!1;let r=e.isWindow?e.scrolled:e.height+e.scrolled;if(n)i=(e.totalToScroll-r)/e.totalToScroll,o=(t?.down?t.down:0)/10;else{let d=e.scrolled+(e.totalToScroll-r);i=e.scrolled/d,o=(t?.up?t.up:0)/10}return i<=o}function bt(e,t){return e<t.scrolled}function Dt(e,t,n){let i=bt(e,t);return{fire:Ot(t,n,i),scrollDown:i}}var P=class{constructor(t){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},Object.assign(this,t)}updateScrollPosition(t){return this.lastScrollPosition=t}updateTotalToScroll(t){this.lastTotalToScroll!==t&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=t)}updateScroll(t,n){this.updateScrollPosition(t),this.updateTotalToScroll(n)}updateTriggeredFlag(t,n){n?this.triggered.down=t:this.triggered.up=t}isTriggeredScroll(t,n){return n?this.triggered.down===t:this.triggered.up===t}};function Et(e){let{scrollContainer:t,scrollWindow:n,element:i,fromRoot:o}=e,r=vt({axis:new E(!e.horizontal),windowElement:pt(t,n,i,o)}),c=new P({totalToScroll:ot(i,r).totalToScroll}),d={container:r.container,throttle:e.throttle},u={up:e.upDistance,down:e.downDistance};return Pt(d).pipe(N(()=>K(ot(i,r))),M(f=>Ht(c.lastScrollPosition,f,u)),O(({stats:f})=>c.updateScroll(f.scrolled,f.totalToScroll)),j(({fire:f,scrollDown:v,stats:{totalToScroll:dt}})=>St(e.alwaysCallback,f,c.isTriggeredScroll(dt,v))),O(({scrollDown:f,stats:{totalToScroll:v}})=>{c.updateTriggeredFlag(v,f)}),M(_t))}function Pt(e){let t=F(e.container,"scroll");return e.throttle&&(t=t.pipe(z(e.throttle,void 0,{leading:!0,trailing:!0}))),t}function Ht(e,t,n){let{scrollDown:i,fire:o}=Dt(e,t,n);return{scrollDown:i,fire:o,stats:t}}var H={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function _t(e){let{scrollDown:t,stats:{scrolled:n}}=e;return{type:t?H.DOWN:H.UP,payload:{currentScrollPosition:n}}}var at=(()=>{let t=class t{constructor(i,o){this.element=i,this.zone=o,this.scrolled=new w,this.scrolledUp=new w,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:i,infiniteScrollDisabled:o,infiniteScrollDistance:r}){let c=D(i),d=D(o),u=D(r),f=!d&&!this.infiniteScrollDisabled||d&&!o.currentValue||u;(c||d||u)&&(this.destroyScroller(),f&&this.setup())}setup(){ut()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=Et({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(i=>this.handleOnScroll(i))})}handleOnScroll({type:i,payload:o}){let r=i===H.DOWN?this.scrolled:this.scrolledUp;Wt(r)&&this.zone.run(()=>r.emit(o))}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}};t.\u0275fac=function(o){return new(o||t)(b(B),b(G))},t.\u0275dir=L({type:t,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[Y]});let e=t;return e})();function Wt(e){return e.observed??e.observers.length>0}var x=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=U({type:t}),t.\u0275inj=A({});let e=t;return e})();var ct=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=g({type:t,selectors:[["app-carousel"]],standalone:!0,features:[S],decls:27,vars:0,consts:[["role","main"],[1,"carousel-content"],[1,"slider-img"],["ngSrc","./../../assets/slider-img/slide1.jpg","alt","Lo Hobbit","title","Lo Hobbit","height","319","width","1186","priority","high"],["ngSrc","./../../assets/slider-img/slide2.jpg","alt","Avengers","title","Avengers","height","319","width","1186","priority","high"],["ngSrc","./../../assets/slider-img/slide3.jpg","alt","Transformers","title","Transformers","height","319","width","1186","priority","high"],["ngSrc","./../../assets/slider-img/slide4.jpg","alt","Your Name.","title","Your Name.","height","319","width","1186","priority","high"],["ngSrc","./../../assets/slider-img/slide5.jpg","alt","Venom","title","Venom","height","319","width","1186","priority","high"]],template:function(o,r){o&1&&(s(0,"section",0)(1,"section",1)(2,"figure",2)(3,"figcaption"),a(4,"Lo Hobbit"),l(),s(5,"a"),m(6,"img",3),l()(),s(7,"figure",2)(8,"figcaption"),a(9,"The Avengers - Endgame"),l(),s(10,"a"),m(11,"img",4),l()(),s(12,"figure",2)(13,"figcaption"),a(14,"Transformers - Rise of the Beasts"),l(),s(15,"a"),m(16,"img",5),l()(),s(17,"figure",2)(18,"figcaption"),a(19,"Your Name."),l(),s(20,"a"),m(21,"img",6),l()(),s(22,"figure",2)(23,"figcaption"),a(24,"Venom - La furia di Carnage"),l(),s(25,"a"),m(26,"img",7),l()()()())},dependencies:[et],styles:[".carousel-content[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;transform:translate(calc(180% + 60px));animation:_ngcontent-%COMP%_slider 20s 2s infinite}.slider-img[_ngcontent-%COMP%]{position:relative;flex:1 0 90%;max-height:480px;max-width:1700px;margin:20px;box-shadow:#0f0c0c 0 10px 15px}.slider-img[_ngcontent-%COMP%]:hover{border:4px solid aliceblue;transform:scale(1.03);transition:.1s}.slider-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.slider-img[_ngcontent-%COMP%]   figcaption[_ngcontent-%COMP%]{position:absolute;font-size:1.3em;padding:20px;bottom:0;width:100%;max-height:30vh;background-color:#000000b3}@keyframes _ngcontent-%COMP%_slider{0%{transform:translate(calc(180% + 60px))}5%{transform:translate(calc(90% + 30px))}15%{transform:translate(calc(90% + 30px))}25%{transform:translate(0)}40%{transform:translate(0)}50%{transform:translate(calc(-90% - 30px))}65%{transform:translate(calc(-90% - 30px))}75%{transform:translate(calc(-180% - 60px))}85%{transform:translate(calc(-180% - 60px))}90%{transform:translate(calc(180% + 60px))}to{transform:translate(calc(180% + 60px))}}"]});let e=t;return e})();var It=e=>["/film",e];function Kt(e,t){if(e&1&&(s(0,"div",2),m(1,"img",3),s(2,"a",4)(3,"h3"),a(4),l(),s(5,"span")(6,"b"),a(7,"Rating:"),l(),a(8),l(),s(9,"span")(10,"b"),a(11,"Rank:"),l(),a(12),l(),s(13,"span")(14,"b"),a(15,"Anno:"),l(),a(16),l()()()),e&2){let n=t.$implicit;p(1),h("src",n.image,V)("alt",n.title),p(1),h("routerLink",Q(7,It,n.imdbid)),p(2),J(n.title),p(4),T(" ",n.rating,""),p(4),T(" ",n.rank,""),p(4),T(" ",n.year,"")}}var ft=(()=>{let t=class t{constructor(){this.getMovieOnScroll=new w}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=g({type:t,selectors:[["app-movies"]],inputs:{movies:"movies"},outputs:{getMovieOnScroll:"getMovieOnScroll"},standalone:!0,features:[S],decls:6,vars:3,consts:[["id","content"],["infiniteScroll","",1,"row",3,"infiniteScrollDistance","infiniteScrollThrottle","alwaysCallback","scrolled"],["name","film",1,"films"],[3,"src","alt"],[1,"play",3,"routerLink"],["class","films","name","film"]],template:function(o,r){o&1&&(s(0,"section",0)(1,"article",1),C("scrolled",function(){return r.getMovieOnScroll.emit()}),s(2,"h1"),a(3,"I film pi\xF9 popolari"),l(),Z(4,Kt,17,9,"div",5,q),l()()),o&2&&(p(1),h("infiniteScrollDistance",.5)("infiniteScrollThrottle",1e3)("alwaysCallback",!0),$(4,r.movies))},dependencies:[tt,x,at,it],styles:["#content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}#content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.2em;margin:20px 0 0 20px;font-weight:700;width:90%}#content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:5px;padding:2px;outline:none}#content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:3px ridge brown}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;width:100%}.row[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.2em;margin:20px;font-weight:700;width:90%}.films[_ngcontent-%COMP%]{position:relative;display:flex;max-width:300px;max-height:200px;margin:20px 10px;background-color:gray;box-shadow:#0f0c0c 0 10px 15px;border-radius:5px;transition:.4s}.films[_ngcontent-%COMP%]:hover{border:4px white solid;transform:scale(1.05)}.films[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;object-fit:cover;object-position:center}.films[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px}.films[_ngcontent-%COMP%]:hover   .play[_ngcontent-%COMP%]{display:flex;justify-content:space-around;color:#fff}.play[_ngcontent-%COMP%]{position:absolute;display:none;flex-direction:column;padding:20px;width:100%;height:100%;justify-content:start;background-color:#000000b3}"],changeDetection:0});let e=t;return e})();var fe=(()=>{let t=class t{constructor(){this.movieService=R(nt),this.movieArray=y([]),this.movies=y([]),this.actNum=y(1),X(()=>{if(this.movieService.searchInput()!==""){let i=this.movieArray().filter(o=>o.title.toLowerCase().includes(this.movieService.searchInput().toLocaleLowerCase()));this.movies.set([...i])}else this.movies.set([...this.movieArray().slice(0,25)])},{allowSignalWrites:!0}),this.getMovie()}getMovie(){this.movieService.getMovies().subscribe(i=>{this.movieArray.set(i),this.movies.set(this.movieArray().slice(0,25))})}getMovieOnScroll(){this.actNum()*25>=this.movieArray.length&&this.movies.set(this.movieArray().slice(0,this.actNum()*25)),this.actNum.update(i=>i=i+1)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=g({type:t,selectors:[["app-home"]],standalone:!0,features:[S],decls:2,vars:1,consts:[[3,"movies","getMovieOnScroll"]],template:function(o,r){o&1&&(m(0,"app-carousel"),s(1,"app-movies",0),C("getMovieOnScroll",function(){return r.getMovieOnScroll()}),l()),o&2&&(p(1),h("movies",r.movies()))},dependencies:[ct,x,ft],changeDetection:0});let e=t;return e})();export{fe as HomeComponent};
