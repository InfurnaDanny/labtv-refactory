import{a as F}from"./chunk-KD463WB7.js";import{a as b}from"./chunk-NGHC5C4C.js";import{a as q}from"./chunk-KONVMFNH.js";import{e as P}from"./chunk-SDMUVFW5.js";import{$a as n,Ba as _,Fa as m,Ja as C,W as s,Y as p,Ya as h,Za as v,_a as o,aa as g,ab as M,ba as x,bb as S,db as y,eb as A,gb as l,hb as u,nb as O}from"./chunk-CUD5NDY5.js";var w=(t,e)=>e.idFilm;function k(t,e){if(t&1){let c=S();o(0,"li")(1,"div"),l(2),n(),o(3,"div"),l(4),n(),o(5,"div")(6,"button",0),y("click",function(i){let f=g(c).$implicit,d=A();return x(d.refundFilm(f.idFilm,i))}),l(7," RESTITUISCI "),n(),M(8,"i",1),n()()}if(t&2){let c=e.$implicit;m(2),u(c.idFilm),m(2),u(c.title)}}function D(t,e){t&1&&(o(0,"li"),l(1,"Loading data or No item founded"),n())}var N=(()=>{let e=class e{constructor(){this.filmAquiredService=s(F),this.userService=s(b),this.alertService=s(q),this.filmAquiredArray=_([]),C(()=>{this.userService.userID()&&this.filmAquiredService.getFilmAquired(this.userService.userID()).subscribe(r=>this.filmAquiredArray.set(r))})}refundFilm(r,i){i.preventDefault();let a=localStorage.getItem("idUser");confirm("Sei sicuro di voler restituire il film?")&&(this.filmAquiredService.deleteFilm(r,a).subscribe(()=>this.alertService.showAlert("success","Film restituito correttamente")),this.filmAquiredArray.set(this.filmAquiredArray().filter(d=>d.idFilm!=r)))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=p({type:e,selectors:[["app-film-acquistati"]],standalone:!0,features:[O],decls:7,vars:1,consts:[[3,"click"],[1,"fa-solid","fa-xmark"]],template:function(i,a){i&1&&(o(0,"section")(1,"h1"),l(2,"Tutti i film acquistati:"),n(),o(3,"ul"),h(4,k,9,2,"li",null,w,!1,D,2,0),n()()),i&2&&v(4,a.filmAquiredArray())},dependencies:[P],styles:["section[_ngcontent-%COMP%]{display:flex;max-width:1200px;margin:0 auto;padding:20px;flex-direction:column}ul[_ngcontent-%COMP%]{margin:10px;width:100%}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;width:100%;display:flex;margin:10px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#8a2323;list-style-type:none;padding:5px;width:100%;display:flex;align-items:center;margin:2px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-of-type{background-color:#571616;max-width:150px;padding-left:10px;text-align:center}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(2){padding-left:10px;background-color:#f0f8ff;color:#000}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(3){max-width:130px;background-color:#a83a3a;border-radius:5px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:9px;background:none;color:#fff;font-weight:700;border:0}"],changeDetection:0});let t=e;return t})();export{N as FilmAcquistatiComponent};
